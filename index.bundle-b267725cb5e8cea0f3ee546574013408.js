webpackJsonp([0],{0:function(e,t,s){"use strict";function o(){var e=new Date,t=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return(t<10?"0"+t:t)+":"+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)}var a=this&&this.__extends||function(e,t){function s(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)},n=this&&this.__decorate||function(e,t,s,o){var a,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,o);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(n<3?a(i):n>3?a(t,s,i):a(t,s))||i);return n>3&&i&&Object.defineProperty(t,s,i),i},i=s(1),r=s(13),l=s(24);new l(".clipboard");var c,h=new r.Decoder,d=new r.Decoder,u=localStorage.getItem("parameters"),m=localStorage.getItem("bookmarks"),p=function(e){function t(){e.apply(this,arguments),this.websocket=void 0,this.messages=[],this.isSocketIOInternally=!!localStorage.getItem("isSocketIO"),this.ignorePingInternally=!!localStorage.getItem("ignorePing"),this.baseUrl=localStorage.getItem("baseUrl")||"ws://slack.socket.io/socket.io/",this.parameters=u?JSON.parse(u):[{key:"transport",value:"websocket"}],this.anchor=localStorage.getItem("anchor")||"",this.messageInternally=localStorage.getItem("message")||'42["new message",{"username":"hello","message":"world"}]',this.showRawInternally=!!localStorage.getItem("showRaw"),this.showFormattedInternally=!!localStorage.getItem("showFormatted"),this.previewResult="",this.isPreview=!1,this.bookmarks=m?JSON.parse(m):[],this.isEditing=!1,this.bookmarkName=""}return a(t,e),Object.defineProperty(t.prototype,"canSaveAsBookmark",{get:function(){if(""===this.bookmarkName.trim())return!1;for(var e=0,t=this.bookmarks;e<t.length;e++){var s=t[e];if(s.name===this.bookmarkName)return!1}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSocketIO",{get:function(){return this.isSocketIOInternally},set:function(e){localStorage.setItem("isSocketIO",e?"1":""),this.isSocketIOInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignorePing",{get:function(){return this.ignorePingInternally},set:function(e){localStorage.setItem("ignorePing",e?"1":""),this.ignorePingInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRaw",{get:function(){return this.showRawInternally},set:function(e){localStorage.setItem("showRaw",e?"1":""),this.showRawInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFormatted",{get:function(){return this.showFormattedInternally},set:function(e){localStorage.setItem("showFormatted",e?"1":""),this.showFormattedInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.messageInternally},set:function(e){localStorage.setItem("message",e),this.messageInternally=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){var e=this.baseUrl;if(this.parameters.length>0){e+="?";for(var t=0,s=this.parameters;t<s.length;t++){var o=s[t];e+=o.key+"="+o.value+"&"}e=e.substring(0,e.length-1)}return this.anchor&&(e+="#"+this.anchor),e},set:function(e){var t=e.indexOf("#");if(t>-1?(e=e.substring(0,t),this.anchor=e.substring(t+1)):this.anchor="",t=e.indexOf("?"),t>-1){this.baseUrl=e.substring(0,t);for(var s=e.substring(t+1).split("&"),o=[],a=0,n=s;a<n.length;a++){var i=n[a];t=i.indexOf("="),t===-1?o.push({key:i,value:""}):o.push({key:i.substring(0,t),value:i.substring(t+1)})}this.parameters=o}else this.baseUrl=e,this.parameters=[];localStorage.setItem("baseUrl",this.baseUrl),localStorage.setItem("parameters",JSON.stringify(this.parameters)),localStorage.setItem("anchor",this.anchor)},enumerable:!0,configurable:!0}),t.prototype.savingAsBookmark=function(){this.isEditing=!this.isEditing,Vue.nextTick(function(){document.getElementById("bookmarkName").focus()})},t.prototype.saveAsBookmark=function(){this.isEditing=!1,this.bookmarks.unshift({name:this.bookmarkName,isSocketIO:this.isSocketIO,ignorePing:this.ignorePing,baseUrl:this.baseUrl,parameters:this.parameters,anchor:this.anchor,message:this.message,showRaw:this.showRaw,showFormatted:this.showFormatted}),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},t.prototype.deleteBookmark=function(e){this.bookmarks.splice(e,1),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},t.prototype.useBookmark=function(e){var t=this.bookmarks[e];this.isSocketIO=t.isSocketIO,this.ignorePing=t.ignorePing,this.showRaw=t.showRaw,this.showFormatted=t.showFormatted,this.message=t.message,this.baseUrl=t.baseUrl;var s=JSON.stringify(t.parameters);this.parameters=JSON.parse(s),this.anchor=t.anchor,localStorage.setItem("baseUrl",t.baseUrl),localStorage.setItem("parameters",s),localStorage.setItem("anchor",t.anchor)},t.prototype.setKeyOfParameter=function(e,t){this.parameters[e].key=t.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.setValueOfParameter=function(e,t){this.parameters[e].value=t.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.deleteParameter=function(e){this.parameters.splice(e,1),localStorage.setItem("parameters",JSON.stringify(this.parameters))},t.prototype.addParameter=function(){this.parameters.push({key:"",value:""})},t.prototype.connect=function(){try{this.websocket=new WebSocket(this.url)}catch(e){return void this.messages.unshift({moment:o(),type:"error",reason:e.message})}this.websocket.onopen=this.onopen,this.websocket.onclose=this.onclose,this.websocket.onmessage=this.onmessage,this.websocket.onerror=this.onerror,this.isSocketIO&&(c=setInterval(this.ping,25e3))},t.prototype.sendMessage=function(){this.send(this.message)},t.prototype.send=function(e){this.websocket&&(this.ignorePing&&"2"===e||this.messages.unshift({moment:o(),type:"out",data:e}),this.websocket.send(e))},t.prototype.ping=function(){this.send("2")},t.prototype.clear=function(){this.messages=[]},t.prototype.previewMessage=function(){if(this.isPreview=!0,this.isSocketIO)this.previewResult="",d.add(this.message);else try{this.previewResult=JSON.stringify(JSON.parse(this.message),null,"    ")}catch(e){this.previewResult=e}},t.prototype.cancelPreview=function(){this.isPreview=!1},t.prototype.showTips=function(){this.messages.unshift({moment:o(),type:"tips",tips:'Tips: \n1. for socket.io, if you connect http://localhost, in ws\'s perspective, you connected ws://localhost/socket.io/?transport=websocket\n2. for socket.io, if you connect https://localhost, in ws\'s perspective, you connected wss://localhost/socket.io/?transport=websocket\n3. for socket.io, if you send a message(eg: {a_key:"a_value"}) in an event(eg: "a_event"), in ws\'s perspective, the actual message you send is: 42["a_event",{"a_key":"a_value"}]\n4. chrome\'s developer tool is a good tool to view ws connection and messages'})},t.prototype.close=function(){this.messages.unshift({moment:o(),type:"tips",tips:"Is going to disconnect manually."}),this.websocket.close()},t.prototype.onopen=function(e){this.messages.unshift({moment:o(),type:e.type})},t.prototype.onclose=function(e){this.messages.unshift({moment:o(),type:e.type,reason:e.reason}),this.websocket=void 0,clearInterval(c)},t.prototype.onmessage=function(e){if(!this.ignorePing||"3"!==e.data){if("3"===e.data)return void this.messages.unshift({moment:o(),type:e.type,data:e.data});if(this.messages.unshift({moment:o(),type:e.type,rawData:e.data,visible:void 0}),this.isSocketIOInternally)h.add(e.data);else try{var t=JSON.parse(e.data);this.messages.unshift({moment:o(),type:e.type,formattedData:t})}catch(e){console.log(e)}}},t.prototype.onerror=function(e){this.messages.unshift({moment:o(),type:e.type}),this.websocket=void 0,clearInterval(c)},t.prototype.showMessage=function(e){this.messages[e].visible=!0},t.prototype.hideMessage=function(e){this.messages[e].visible=!1},t=n([i.VueComponent({template:s(32)})],t)}(Vue),b=new p({el:"#body"});if(WebSocket||b.messages.unshift({moment:o(),type:"tips",tips:"current browser doesn't support WebSocket"}),h.on("decoded",function(e){b.messages.unshift({moment:o(),type:"message",formattedData:JSON.stringify(e,null,"    "),visible:void 0})}),d.on("decoded",function(e){b.previewResult=JSON.stringify(e,null,"    ")}),!localStorage.getItem("tour")){var g=new Shepherd.Tour({defaults:{classes:"shepherd-theme-arrows",showCancelLink:!0}});g.addStep("input url",{title:"input url",text:"input url of your websocket services here",attachTo:".tour-input-url bottom",buttons:[{text:"Next",action:g.next}]}),g.addStep("check",{title:"check",text:"check this if you are connecting a socket.io service",attachTo:".tour-check right",buttons:[{text:"Next",action:g.next}]}),g.addStep("connect",{title:"connect",text:"press this button to connect your websocket service",attachTo:".tour-connect right",buttons:[{text:"Next",action:g.next}]}),g.addStep("input message",{title:"input message",text:"input message that is about to send",attachTo:".tour-input-message right",buttons:[{text:"Next",action:g.next}]}),g.addStep("send message",{title:"send message",text:"press this button to send the message",attachTo:".tour-send-message right",buttons:[{text:"Next",action:g.next}]}),g.addStep("view messages",{title:"view messages",text:"all the messages in and out will be here",attachTo:".tour-view-messages top",buttons:[{text:"Done",action:g.next}]}),g.start(),localStorage.setItem("tour","1")}},1:function(e,t,s){"use strict";var o=s(2);t.VueComponent=o.VueComponent;var a=s(11);t.Prop=a.Prop;var n=s(12);t.Watch=n.Watch;var i=s(10);t.DeveloperUtils=i.DeveloperUtils},11:function(e,t,s){"use strict";function o(e,t){return t?void a(null)(e,t):a(e)}function a(e){return function(t,s){n.DeveloperUtils.decoratorStart(),t.$$props||(t.$$props={}),e||(e=null),t.$$props[s]=e,delete t[s],n.DeveloperUtils.decoratorStop()}}var n=s(10);t.Prop=o},12:function(e,t,s){"use strict";function o(e,t){return function(s,o){a.DeveloperUtils.decoratorStart(),s.$$watch||(s.$$watch={});var n=s[o]?e:o,i=s[o]?s[o]:e;"string"!=typeof i&&(s.$$methodsToRemove||(s.$$methodsToRemove=[]),s.$$methodsToRemove.push(o)),t?t.handler=i:t=i,s.$$watch[n]=t,a.DeveloperUtils.decoratorStop()}}var a=s(10);t.Watch=o},32:function(e,t){e.exports='<div><ul class="bookmarks list-unstyled"><li v-for="(bookmark, index) in bookmarks"><button class="btn btn-link btn-xs hint--bottom hint--rounded" @click="useBookmark(index)" data-hint="set this configuration as current configuration">{{bookmark.name}}</button> <button class="btn btn-link btn-xs hint--bottom hint--rounded" @click="deleteBookmark(index)" data-hint="delete this configuration">delete</button></li></ul><div class="main"><div class="container"><div class="row"><div class="col-md-12"><h4>WebSocket/Socket.IO Test Tool</h4></div></div><div class="row"><div class="col-md-12 hint--bottom hint--rounded" data-hint="input url of your websocket services here"><input id="url" type="url" class="form-control tour-input-url" v-model="url"></div></div><div class="row"><div class="col-md-12"><label class="hint--right hint--rounded" data-hint="check this if you are connecting a socket.io service"><input type="checkbox" v-model="isSocketIO" :disabled="!!websocket" class="tour-check"> socket.io</label><label v-if="isSocketIO" class="hint--right hint--rounded" data-hint="ping/pong is like heartbeat"><input type="checkbox" v-model="ignorePing" :disabled="!!websocket"> will hide ping/pong of socket.io</label></div></div><div class="row"><div class="col-md-12"><button class="btn btn-primary btn-sm tour-connect hint--right hint--rounded" @click="connect()" :disabled="!!websocket" data-hint="press this button to connect your websocket service">connect</button> <button class="btn btn-default btn-sm tour-connect hint--right hint--rounded" @click="close()" :disabled="!websocket" data-hint="press this button to disconnect">disconnect</button> <button class="btn btn-default btn-sm clipboard hint--right hint--rounded" data-clipboard-target="#url" data-hint="press this button to copy the url to your paste board">copy URL</button> <button class="btn btn-default btn-sm" @click="addParameter()">add a parameter</button> <button class="btn btn-default btn-sm" @click="showTips()">show tips</button></div></div><div class="row"><div class="col-md-6"><div class="col-md-12 hint--right hint--rounded" data-hint="input message that is about to send"><textarea style="width:100%;height:200px" class="form-control tour-input-message" v-model="message" v-if="!isPreview"></textarea><pre v-else>{{previewResult}}</pre></div></div><div class="col-md-6"><div v-for="(parameter, index) in parameters"><div class="col-md-3"><input type="text" class="form-control input-sm" :value="parameter.key" @keyup="setKeyOfParameter(index, $event)"></div><div class="col-md-7"><input type="text" class="form-control input-sm" :value="parameter.value" @keyup="setValueOfParameter(index, $event)"></div><div class="col-md-2"><button class="btn btn-link btn-sm hint--right hint--rounded" @click="deleteParameter(index)" data-hint="delete the parameter">delete</button></div></div></div></div><div class="row"><div class="col-md-12"><label class="hint--right hint--rounded" data-hint="show raw string of the messages"><input type="checkbox" v-model="showRaw"> show raw data</label><label class="hint--right hint--rounded" data-hint="show formatted string of the messages"><input type="checkbox" v-model="showFormatted"> show formatted data</label></div></div><div class="row"><div class="col-md-12"><button class="btn btn-default btn-sm hint--right hint--rounded" @click="previewMessage()" :disabled="message===\'\'" v-if="!isPreview" data-hint="preview the message to check format">preview message</button> <button class="btn btn-default btn-sm hint--right hint--rounded" @click="cancelPreview()" :disabled="message===\'\'" v-else data-hint="cancel the preview of the message">cancel preview</button> <button class="btn btn-primary btn-sm tour-send-message hint--right hint--rounded" @click="sendMessage()" :disabled="!websocket" data-hint="press this button to send the message">send message</button> <button class="btn btn-default btn-sm hint--right hint--rounded" @click="clear()" :disabled="messages.length===0" data-hint="press this button to clear all the messages below">clear</button> <button class="btn btn-default btn-sm" @click="savingAsBookmark()">{{isEditing ? "cancel" : "save as bookmark"}}</button></div></div><div class="row" v-if="isEditing"><div class="col-md-4 hint--right hint--rounded" data-hint="input the bookmark name"><input id="bookmarkName" type="text" class="form-control input-sm" v-model="bookmarkName"></div><div class="col-md-2"><button class="btn btn-link btn-sm" @click="saveAsBookmark()" :disabled="!canSaveAsBookmark">save</button></div></div><div class="row"><div class="col-md-12 tour-view-messages"><ul v-for="(message, index) in messages"><li><span class="label label-default">{{message.moment}}</span> <span v-if="message.type===\'open\'" class="label label-success">connected</span> <span v-if="message.type===\'close\'" class="label label-danger">disconnected</span> <span v-if="message.type===\'error\'" class="label label-danger">errored</span> <span v-if="message.type===\'out\'" class="label label-info">out</span> <span v-if="message.type===\'message\'" class="label label-info">in</span> <span v-if="message.type===\'tips\'" class="label label-info">tips</span> <span v-if="message.reason">{{message.reason}}</span> <span v-if="message.data">{{message.data}}</span> <span v-if="message.formattedData"><template v-if="message.visible !== undefined ? message.visible : showFormatted"><button class="btn btn-xs btn-default" @click="hideMessage(index)">hide</button><pre>{{message.formattedData}}</pre><button class="btn btn-xs btn-default" @click="hideMessage(index)">hide</button></template><template v-else><label class="label label-default">formatted</label><button class="btn btn-xs btn-default" @click="showMessage(index)">show</button></template></span><span v-if="message.rawData"><template v-if="message.visible !== undefined ? message.visible : showRaw"><button class="btn btn-xs btn-default" @click="hideMessage(index)">hide</button><pre>{{message.rawData}}</pre><button class="btn btn-xs btn-default" @click="hideMessage(index)">hide</button></template><template v-else><label class="label label-default">raw</label><button class="btn btn-xs btn-default" @click="showMessage(index)">show</button></template></span><pre v-if="message.tips">{{message.tips}}</pre></li></ul></div></div></div></div></div>'}});