<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <title>WebSocket/Socket.IO Test Tool</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <style>
        input,
        button {
            margin-top: 10px;
            margin-left: 20px;
        }
    </style>
</head>

<body id="body">
    <div class="container">
        <div class="row">
            <div class="col-md-11">
                <input id="url" type="url" class="form-control" v-model="url">
            </div>
            <div class="col-md-1">
                <button class="btn btn-info clipboard" data-clipboard-target="#url">
                    copy
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <label>
                    <input type="checkbox" v-model="isSocketIO" disabled={{!!websocket}}> socket.io
                </label>
                <label v-show="isSocketIO">
                    <input type="checkbox" v-model="ignorePing" disabled={{!!websocket}}> ignore ping
                </label>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-primary" @click="connect()" disabled={{!!websocket}}>connect</button>
                <button class="btn btn-danger" @click="websocket.close()" disabled={{!websocket}}>disconnect</button>
                <button class="btn btn-danger" @click="clear()" disabled={{messages.length===0}}>clear</button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <ul v-for="message in messages">
                    <li>
                        <span class="label label-default">{{message.moment}}</span>
                        <span v-if="message.type==='open'" class="label label-success">connected</span>
                        <span v-if="message.type==='close'" class="label label-danger">disconnected</span>
                        <span v-if="message.type==='error'" class="label label-danger">errored</span>
                        <span v-if="message.type==='out'" class="label label-info">out</span>
                        <span v-if="message.type==='message'" class="label label-info">in</span>
                        <span v-if="message.reason">{{message.reason}}</span>
                        <span v-if="message.data">{{message.data}}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://cdn.bootcss.com/vue/1.0.17/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/clipboard.js/1.5.9/clipboard.min.js"></script>
    <script src="https://cdn.bootcss.com/moment.js/2.11.2/moment.min.js"></script>
    <script src="./a.js"></script>
</body>